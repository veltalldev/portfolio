{{/* layouts/_default/taxonomy.html */}}
{{ define "main" }}
<div class="taxonomy-list">
    <h1>{{ .Title }}</h1>
    {{ with .Description }}<p class="taxonomy-description">{{ . }}</p>{{ end }}
    
    <div class="content-list">
        {{ range .Pages.ByDate.Reverse }}
        <article class="content-item">
            <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
            <div class="metadata">
                <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
                {{ with .Params.categories }}
                â€¢ <span class="categories">
                    {{ range . }}
                    <a href="/categories/{{ . | urlize }}">{{ . }}</a>
                    {{ end }}
                </span>
                {{ end }}
            </div>
            {{ with .Summary }}<p class="summary">{{ . }}</p>{{ end }}
        </article>
        {{ end }}
    </div>
</div>
{{ end }}

{{/* layouts/_default/terms.html */}}
{{ define "main" }}
<div class="terms-list">
    <h1>{{ .Title }}</h1>
    {{ with .Description }}<p class="terms-description">{{ . }}</p>{{ end }}
    
    <div class="terms-grid">
        {{ range .Data.Terms.Alphabetical }}
        <div class="term-item">
            <h2>
                <a href="{{ .Page.RelPermalink }}">{{ .Page.Title }}</a>
                <span class="count">({{ .Count }})</span>
            </h2>
            {{ with (index .Pages 0).Summary }}
            <p class="summary">{{ . }}</p>
            {{ end }}
        </div>
        {{ end }}
    </div>
</div>
{{ end }}

{{/* layouts/shortcodes/taxonomy-links.html */}}
{{ define "shortcodes/taxonomy-links" }}
<nav class="taxonomy-nav">
    <div class="taxonomy-section">
        <h3>Categories</h3>
        <ul>
            {{ range $name, $taxonomy := .Site.Taxonomies.categories }}
            <li><a href="{{ "/categories/" | relLangURL }}{{ $name | urlize }}">{{ $name }}</a> ({{ .Count }})</li>
            {{ end }}
        </ul>
    </div>
    
    <div class="taxonomy-section">
        <h3>Series</h3>
        <ul>
            {{ range $name, $taxonomy := .Site.Taxonomies.series }}
            <li><a href="{{ "/series/" | relLangURL }}{{ $name | urlize }}">{{ $name }}</a> ({{ .Count }})</li>
            {{ end }}
        </ul>
    </div>
    
    <div class="taxonomy-section">
        <h3>Popular Tags</h3>
        <div class="tags-cloud">
            {{ range first 20 .Site.Taxonomies.tags.ByCount }}
            <a href="{{ "/tags/" | relLangURL }}{{ .Name | urlize }}" 
               class="tag-{{ if gt .Count 5 }}lg{{ else if gt .Count 3 }}md{{ else }}sm{{ end }}">
                {{ .Name }} ({{ .Count }})
            </a>
            {{ end }}
        </div>
    </div>
</nav>
{{ end }}